!function(e,t,a){e.T={},T.$id=function(e){return t.getElementById(e)},T.ltrim=function(e){return e.replace(/(^\s*)/g,"")},T.rtrim=function(e){return e.replace(/(\s*$)/g,"")},T.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},T.RE={number:/^\d+$/,mobile:/^1[3|4|5|6|7|8|9]\d{9}$/,tel:/^(\d{3,4}-)\d{7,8}$/,email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,mobile_email:/^1[3|4|5|6|7|8|9]\d{9}$|^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,mobile_email_uname:/^1[3|4|5|6|7|8|9]\d{9}$|^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$|^[_a-zA-Z0-9\-]{4,16}$/,code:/^[0-9]{6}$/,qq:/^[0-9]{5,12}$/,pwd:/^\S{6,16}$/,uri:/^[a-zA-z]+:\/\/[^\s]*$/,url:/^[a-zA-z]+:\/\/[\w-]+\.[\w-]+\.[\w-]+\S*$/,date:/^((?!0000)[0-9]{4}-((0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-8])|(0[13-9]|1[0-2])-(29|30)|(0[13578]|1[02])-31))|(([0-9]{2}(0[48]|[2468][048]|[13579][26])|(0[48]|[2468][048]|[13579][26])00)-02-29)$/,time:/sdf/,datetime:/asd/,uname:/^[a-zA-Z]\w{5,15}$/,nonempty:/\S/,size:/\d+[\d.]*[A-za-z]*\*+\d+[\d.]*[A-za-z]*|\d+[*×]\d+/i},T.getBrowser=function(){function e(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}var t=navigator.userAgent.toLowerCase(),a=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,r=[["trident",a],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",/\bgecko\/(\d+)/],["presto",/\bpresto\/([0-9.]+)/]],n=[["ie",a],["firefox",/\bfirefox\/([0-9.ab]+)/],["opera",/\bopr\/([0-9.]+)/],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//]],i=function(t,a){for(var r in t){var n=t[r][0],i=t[r][1];if(e(i)){if(-1!==a.indexOf(i))return n}else if(i.test(a))return n}return"unknow"};return{os:i([["windows",/\bwindows nt ([0-9.]+)/],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["linux","linux"]],t),browser:i(n,t),engine:i(r,t),version:a.test(t)?i([[6,"msie 6.0"],[7,"msie 7.0"],[8,"msie 8.0"],[9,"msie 9.0"],[10,"msie 10.0"]],t):""}},T.myBrowser=function(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1;return t?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?"IE":void 0},T.GoBack=function(){"IE"==T.myBrowser()||"FF"==T.myBrowser()?top.history.go()||top.history.back():"Chrome"==T.myBrowser()&&parent.window.history.back(-1)},T.UUID=function(e){var t=(new Date).getTime()||0,a="";this.timestamp=this.timestamp==t?t+1:t,t=""+this.timestamp,e=e||20;for(var r=0;r<e;r++){var n=t.charAt(r);""==n&&(n=Math.floor(26*Math.random())),a+="abcdefghijklmnopqrstuvwxyz".charAt(n)||"x"}return a},T.Guid=function(){for(var e="",t=1;t<=32;t++){e+=Math.floor(16*Math.random()).toString(16),8!=t&&12!=t&&16!=t&&20!=t||(e+="-")}return e},T.GetInputWord=function(e){var t=e.attr("maxlength"),a=e.val().length;e.parent().siblings(".prompt").children(".num").html(a),a>t||a==t?e.parent().siblings(".prompt").addClass("red_num"):e.parent().siblings(".prompt").removeClass("red_num")},T.GetTextWord=function(e){var t=e.attr("maxlength"),a=e.val().length;e.siblings(".prompt").children(".num").html(a),a>t||a==t?e.siblings(".prompt").addClass("red_num"):e.siblings(".prompt").removeClass("red_num")},T.InputNum=function(e){if(e.value=e.value.replace(/[^\d.]/g,""),""===e.value)return layer.alert("请输入数字",{icon:5}),!1},T.UploadFile=function(e,t,a,r){var n=WebUploader.create({auto:!0,swf:G.DOMAIN.PLANNER+"lib/WebUploader/Uploader.swf",server:G.DOMAIN.PLANNER+"common/uploadifyhandler.ashx?folder="+a,fileSingleSizeLimit:10485760,pick:e});n.on("error",function(e){if("F_EXCEED_SIZE"==e)return layer.alert("文件大小限10M以内",{icon:5}),!1}),n.on("uploadProgress",function(e,t){loading=layer.load(2,{shade:[.2,"#000"]})}),n.on("uploadSuccess",function(e,a){var r="",n=a._raw,i=n.substr(0,n.indexOf("|"));layer.closeAll("loading"),r+="<li>",r+='<a href="'+G.DOMAIN.FILES+i+'" target="_blank" data-file="'+n+'">'+e.name+"</a>",r+='<i class="layui-icon">&#x1006;</i>',r+="</li>",t.append(r)}),n.on("uploadError",function(e){layer.closeAll("loading"),layer.alert("上传失败",{icon:5})})},T.UploadTip=function(e){layer.alert('<p style="font-size:16px;">您已提交产品信息，将在<span style="color:red;">1个工作日内</span>进行审核</p><p style="font-size:12px;color:#777;">请耐心等候，审核结果及下一步操作说明将于站内信通知给您</p>',{area:["420px","180px"],title:"提示",icon:1},function(e,t){$("#GoBack span").click()})},T.AgainBadge=function(){$.ajax({url:G.DOMAIN.PLANNERAPI+"api/Product/GetProductList",type:"GET",xhrFields:{withCredentials:!0},data:{statusFlag:8},success:function(e){0==e.data.TotalRecord?$("#productBadge").hide():($("#productBadge").show(),$("#productBadge").html(e.data.TotalRecord))},error:function(e){layer.alert("提交错误",{icon:5})}}),$.ajax({url:G.DOMAIN.PLANNERAPI+"api/Subject/GetSubjectDraftList",type:"GET",xhrFields:{withCredentials:!0},data:{statusFlag:8},success:function(e){0==e.data.TotalRecord?$("#subjectBadge").hide():($("#subjectBadge").show(),$("#subjectBadge").html(e.data.TotalRecord))},error:function(e){layer.alert("提交错误",{icon:5})}})},T.AgainBadgeSub=function(){$.ajax({url:G.DOMAIN.PLANNERAPI+"api/Product/GetProductList",type:"GET",xhrFields:{withCredentials:!0},data:{statusFlag:8},success:function(t){0==t.data.TotalRecord?e.parent.document.getElementById("productBadge").style.display="none":(e.parent.document.getElementById("productBadge").style.display="inline-block",e.parent.document.getElementById("productBadge").innerHTML=t.data.TotalRecord)},error:function(e){layer.alert("提交错误",{icon:5})}}),$.ajax({url:G.DOMAIN.PLANNERAPI+"api/Subject/GetSubjectDraftList",type:"GET",xhrFields:{withCredentials:!0},data:{statusFlag:8},success:function(t){0==t.data.TotalRecord?e.parent.document.getElementById("subjectBadge").style.display="none":(e.parent.document.getElementById("subjectBadge").style.display="inline-block",e.parent.document.getElementById("subjectBadge").innerHTML=t.data.TotalRecord)},error:function(e){layer.alert("提交错误",{icon:5})}})}}(window,document);